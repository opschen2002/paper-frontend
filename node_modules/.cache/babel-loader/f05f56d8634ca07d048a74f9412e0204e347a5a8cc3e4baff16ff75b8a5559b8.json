{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, withCtx as _withCtx, createTextVNode as _createTextVNode, toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"query-container\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_el_input = _resolveComponent(\"el-input\");\n  const _component_el_form_item = _resolveComponent(\"el-form-item\");\n  const _component_el_button = _resolveComponent(\"el-button\");\n  const _component_el_form = _resolveComponent(\"el-form\");\n  const _component_el_table_column = _resolveComponent(\"el-table-column\");\n  const _component_DataTable = _resolveComponent(\"DataTable\");\n  const _component_el_card = _resolveComponent(\"el-card\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createVNode(_component_el_card, null, {\n    header: _withCtx(() => [_createVNode(_component_el_form, {\n      inline: true,\n      model: $setup.queryForm\n    }, {\n      default: _withCtx(() => [_createVNode(_component_el_form_item, {\n        label: \"班级\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_el_input, {\n          modelValue: $setup.queryForm.className,\n          \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $setup.queryForm.className = $event),\n          placeholder: \"请输入班级\"\n        }, null, 8 /* PROPS */, [\"modelValue\"])]),\n        _: 1 /* STABLE */\n      }), _createVNode(_component_el_form_item, {\n        label: \"学院\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_el_input, {\n          modelValue: $setup.queryForm.college,\n          \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $setup.queryForm.college = $event),\n          placeholder: \"请输入学院\"\n        }, null, 8 /* PROPS */, [\"modelValue\"])]),\n        _: 1 /* STABLE */\n      }), _createVNode(_component_el_form_item, null, {\n        default: _withCtx(() => [_createVNode(_component_el_button, {\n          type: \"primary\",\n          onClick: $setup.handleQuery\n        }, {\n          default: _withCtx(() => _cache[2] || (_cache[2] = [_createTextVNode(\"查询\")])),\n          _: 1 /* STABLE */\n        }, 8 /* PROPS */, [\"onClick\"])]),\n        _: 1 /* STABLE */\n      })]),\n      _: 1 /* STABLE */\n    }, 8 /* PROPS */, [\"model\"])]),\n    default: _withCtx(() => [_createVNode(_component_DataTable, {\n      loading: $setup.loading,\n      \"table-data\": $setup.studentList,\n      total: $setup.total,\n      onPageChange: $setup.handlePageChange\n    }, {\n      default: _withCtx(() => [_createVNode(_component_el_table_column, {\n        prop: \"studentId\",\n        label: \"学号\"\n      }), _createVNode(_component_el_table_column, {\n        prop: \"name\",\n        label: \"姓名\"\n      }), _createVNode(_component_el_table_column, {\n        prop: \"className\",\n        label: \"班级\"\n      }), _createVNode(_component_el_table_column, {\n        prop: \"college\",\n        label: \"学院\"\n      }), _createVNode(_component_el_table_column, {\n        prop: \"gender\",\n        label: \"性别\"\n      }, {\n        default: _withCtx(({\n          row\n        }) => [_createTextVNode(_toDisplayString(row.gender === 'male' ? '男' : '女'), 1 /* TEXT */)]),\n        _: 1 /* STABLE */\n      })]),\n      _: 1 /* STABLE */\n    }, 8 /* PROPS */, [\"loading\", \"table-data\", \"total\", \"onPageChange\"])]),\n    _: 1 /* STABLE */\n  })]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_createVNode","_component_el_card","header","_withCtx","_component_el_form","inline","model","$setup","queryForm","default","_component_el_form_item","label","_component_el_input","modelValue","className","_cache","$event","placeholder","_","college","_component_el_button","type","onClick","handleQuery","_createTextVNode","_component_DataTable","loading","studentList","total","onPageChange","handlePageChange","_component_el_table_column","prop","row","_toDisplayString","gender"],"sources":["C:\\Users\\陈章宇\\Desktop\\test\\分步骤完成\\v7\\frontend\\paper-frontend\\src\\views\\teacher\\QueryView.vue"],"sourcesContent":["<template>\n  <div class=\"query-container\">\n    <el-card>\n      <template #header>\n        <el-form :inline=\"true\" :model=\"queryForm\">\n          <el-form-item label=\"班级\">\n            <el-input v-model=\"queryForm.className\" placeholder=\"请输入班级\" />\n          </el-form-item>\n          <el-form-item label=\"学院\">\n            <el-input v-model=\"queryForm.college\" placeholder=\"请输入学院\" />\n          </el-form-item>\n          <el-form-item>\n            <el-button type=\"primary\" @click=\"handleQuery\">查询</el-button>\n          </el-form-item>\n        </el-form>\n      </template>\n\n      <DataTable\n        :loading=\"loading\"\n        :table-data=\"studentList\"\n        :total=\"total\"\n        @page-change=\"handlePageChange\"\n      >\n        <el-table-column prop=\"studentId\" label=\"学号\" />\n        <el-table-column prop=\"name\" label=\"姓名\" />\n        <el-table-column prop=\"className\" label=\"班级\" />\n        <el-table-column prop=\"college\" label=\"学院\" />\n        <el-table-column prop=\"gender\" label=\"性别\">\n          <template #default=\"{ row }\">\n            {{ row.gender === 'male' ? '男' : '女' }}\n          </template>\n        </el-table-column>\n      </DataTable>\n    </el-card>\n  </div>\n</template>\n\n<script>\nimport { ref, reactive } from 'vue'\nimport DataTable from '@/components/common/DataTable.vue'\nimport { teacherApi } from '@/api'\nimport { ElMessage } from 'element-plus'\n\nexport default {\n  name: 'QueryView',\n  components: { DataTable },\n  setup() {\n    const loading = ref(false)\n    const studentList = ref([])\n    const total = ref(0)\n    \n    const queryForm = reactive({\n      className: '',\n      college: '',\n      page: 1\n    })\n\n    const handleQuery = async () => {\n      try {\n        loading.value = true\n        const res = await teacherApi.queryStudents(queryForm)\n        studentList.value = res.list || []\n        total.value = res.total || 0\n      } catch (error) {\n        ElMessage.error('查询失败')\n      } finally {\n        loading.value = false\n      }\n    }\n\n    const handlePageChange = (page) => {\n      queryForm.page = page\n      handleQuery()\n    }\n\n    return {\n      loading,\n      studentList,\n      total,\n      queryForm,\n      handleQuery,\n      handlePageChange\n    }\n  }\n}\n</script>"],"mappings":";;EACOA,KAAK,EAAC;AAAiB;;;;;;;;;uBAA5BC,mBAAA,CAiCM,OAjCNC,UAiCM,GAhCJC,YAAA,CA+BUC,kBAAA;IA9BGC,MAAM,EAAAC,QAAA,CACf,MAUU,CAVVH,YAAA,CAUUI,kBAAA;MAVAC,MAAM,EAAE,IAAI;MAAGC,KAAK,EAAEC,MAAA,CAAAC;;MAJxCC,OAAA,EAAAN,QAAA,CAKU,MAEe,CAFfH,YAAA,CAEeU,uBAAA;QAFDC,KAAK,EAAC;MAAI;QALlCF,OAAA,EAAAN,QAAA,CAMY,MAA8D,CAA9DH,YAAA,CAA8DY,mBAAA;UAN1EC,UAAA,EAM+BN,MAAA,CAAAC,SAAS,CAACM,SAAS;UANlD,uBAAAC,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAM+BT,MAAA,CAAAC,SAAS,CAACM,SAAS,GAAAE,MAAA;UAAEC,WAAW,EAAC;;QANhEC,CAAA;UAQUlB,YAAA,CAEeU,uBAAA;QAFDC,KAAK,EAAC;MAAI;QARlCF,OAAA,EAAAN,QAAA,CASY,MAA4D,CAA5DH,YAAA,CAA4DY,mBAAA;UATxEC,UAAA,EAS+BN,MAAA,CAAAC,SAAS,CAACW,OAAO;UAThD,uBAAAJ,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAS+BT,MAAA,CAAAC,SAAS,CAACW,OAAO,GAAAH,MAAA;UAAEC,WAAW,EAAC;;QAT9DC,CAAA;UAWUlB,YAAA,CAEeU,uBAAA;QAbzBD,OAAA,EAAAN,QAAA,CAYY,MAA6D,CAA7DH,YAAA,CAA6DoB,oBAAA;UAAlDC,IAAI,EAAC,SAAS;UAAEC,OAAK,EAAEf,MAAA,CAAAgB;;UAZ9Cd,OAAA,EAAAN,QAAA,CAY2D,MAAEY,MAAA,QAAAA,MAAA,OAZ7DS,gBAAA,CAY2D,IAAE,E;UAZ7DN,CAAA;;QAAAA,CAAA;;MAAAA,CAAA;;IAAAT,OAAA,EAAAN,QAAA,CAiBM,MAeY,CAfZH,YAAA,CAeYyB,oBAAA;MAdTC,OAAO,EAAEnB,MAAA,CAAAmB,OAAO;MAChB,YAAU,EAAEnB,MAAA,CAAAoB,WAAW;MACvBC,KAAK,EAAErB,MAAA,CAAAqB,KAAK;MACZC,YAAW,EAAEtB,MAAA,CAAAuB;;MArBtBrB,OAAA,EAAAN,QAAA,CAuBQ,MAA+C,CAA/CH,YAAA,CAA+C+B,0BAAA;QAA9BC,IAAI,EAAC,WAAW;QAACrB,KAAK,EAAC;UACxCX,YAAA,CAA0C+B,0BAAA;QAAzBC,IAAI,EAAC,MAAM;QAACrB,KAAK,EAAC;UACnCX,YAAA,CAA+C+B,0BAAA;QAA9BC,IAAI,EAAC,WAAW;QAACrB,KAAK,EAAC;UACxCX,YAAA,CAA6C+B,0BAAA;QAA5BC,IAAI,EAAC,SAAS;QAACrB,KAAK,EAAC;UACtCX,YAAA,CAIkB+B,0BAAA;QAJDC,IAAI,EAAC,QAAQ;QAACrB,KAAK,EAAC;;QACxBF,OAAO,EAAAN,QAAA,CAChB,CAAuC;UADnB8B;QAAG,OA5BnCT,gBAAA,CAAAU,gBAAA,CA6BeD,GAAG,CAACE,MAAM,wC;QA7BzBjB,CAAA;;MAAAA,CAAA;;IAAAA,CAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}