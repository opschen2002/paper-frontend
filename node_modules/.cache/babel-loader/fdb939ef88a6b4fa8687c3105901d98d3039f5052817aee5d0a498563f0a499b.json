{"ast":null,"code":"import { createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, withCtx as _withCtx, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"import-container\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_FileUpload = _resolveComponent(\"FileUpload\");\n  const _component_el_alert = _resolveComponent(\"el-alert\");\n  const _component_el_card = _resolveComponent(\"el-card\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createVNode(_component_el_card, null, {\n    header: _withCtx(() => _cache[0] || (_cache[0] = [_createElementVNode(\"h3\", null, \"数据导入\", -1 /* HOISTED */)])),\n    default: _withCtx(() => [_createVNode(_component_FileUpload, {\n      action: $setup.API_URLS.IMPORT_SCORE,\n      onUploadSuccess: $setup.handleUploadSuccess,\n      onUploadError: $setup.handleUploadError\n    }, null, 8 /* PROPS */, [\"action\", \"onUploadSuccess\", \"onUploadError\"]), $setup.importResult ? (_openBlock(), _createBlock(_component_el_alert, {\n      key: 0,\n      title: $setup.importResult.message,\n      type: $setup.importResult.success ? 'success' : 'error',\n      \"show-icon\": \"\",\n      style: {\n        \"margin-top\": \"20px\"\n      }\n    }, null, 8 /* PROPS */, [\"title\", \"type\"])) : _createCommentVNode(\"v-if\", true)]),\n    _: 1 /* STABLE */\n  })]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_createVNode","_component_el_card","header","_withCtx","_cache","_createElementVNode","default","_component_FileUpload","action","$setup","API_URLS","IMPORT_SCORE","onUploadSuccess","handleUploadSuccess","onUploadError","handleUploadError","importResult","_createBlock","_component_el_alert","key","title","message","type","success","style","_createCommentVNode","_"],"sources":["C:\\Users\\陈章宇\\Desktop\\test\\分步骤完成\\v7\\frontend\\paper-frontend\\src\\views\\admin\\ImportView.vue"],"sourcesContent":["<template>\n  <div class=\"import-container\">\n    <el-card>\n      <template #header>\n        <h3>数据导入</h3>\n      </template>\n      <FileUpload\n        :action=\"API_URLS.IMPORT_SCORE\"\n        @upload-success=\"handleUploadSuccess\"\n        @upload-error=\"handleUploadError\"\n      />\n      <el-alert\n        v-if=\"importResult\"\n        :title=\"importResult.message\"\n        :type=\"importResult.success ? 'success' : 'error'\"\n        show-icon\n        style=\"margin-top: 20px\"\n      />\n    </el-card>\n  </div>\n</template>\n\n<script>\nimport { ref } from 'vue'\nimport FileUpload from '@/components/common/FileUpload.vue'\nimport { API_URLS } from '@/api/config'\nimport { ElMessage } from 'element-plus'\n\nexport default {\n  name: 'ImportView',\n  components: { FileUpload },\n  setup() {\n    const importResult = ref(null)\n\n    const handleUploadSuccess = (response) => {\n      ElMessage.success('导入成功')\n      importResult.value = {\n        success: true,\n        message: `成功导入 ${response.data} 条数据`\n      }\n    }\n\n    // 修改这里，使用 error 参数或删除它\n    const handleUploadError = () => {  // 删除未使用的 error 参数\n      ElMessage.error('导入失败')\n      importResult.value = {\n        success: false,\n        message: '导入失败，请检查文件格式'\n      }\n    }\n\n    return {\n      API_URLS,\n      importResult,\n      handleUploadSuccess,\n      handleUploadError\n    }\n  }\n}\n</script>\n\n<style scoped>\n.import-container {\n  padding: 20px;\n}\n</style>"],"mappings":";;EACOA,KAAK,EAAC;AAAkB;;;;;uBAA7BC,mBAAA,CAkBM,OAlBNC,UAkBM,GAjBJC,YAAA,CAgBUC,kBAAA;IAfGC,MAAM,EAAAC,QAAA,CACf,MAAaC,MAAA,QAAAA,MAAA,OAAbC,mBAAA,CAAa,YAAT,MAAI,oB;IAJhBC,OAAA,EAAAH,QAAA,CAMM,MAIE,CAJFH,YAAA,CAIEO,qBAAA;MAHCC,MAAM,EAAEC,MAAA,CAAAC,QAAQ,CAACC,YAAY;MAC7BC,eAAc,EAAEH,MAAA,CAAAI,mBAAmB;MACnCC,aAAY,EAAEL,MAAA,CAAAM;6EAGTN,MAAA,CAAAO,YAAY,I,cADpBC,YAAA,CAMEC,mBAAA;MAjBRC,GAAA;MAaSC,KAAK,EAAEX,MAAA,CAAAO,YAAY,CAACK,OAAO;MAC3BC,IAAI,EAAEb,MAAA,CAAAO,YAAY,CAACO,OAAO;MAC3B,WAAS,EAAT,EAAS;MACTC,KAAwB,EAAxB;QAAA;MAAA;kDAhBRC,mBAAA,e;IAAAC,CAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}